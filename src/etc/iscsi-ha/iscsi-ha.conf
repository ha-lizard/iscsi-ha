#############################################
# Configuration file for iscsi-ha
#############################################
#
# WARNING: DO NOT MODIFY THIS FILE DIRECTLY
# WARNING: DO NOT MODIFY THIS FILE DIRECTLY
# WARNING: DO NOT MODIFY THIS FILE DIRECTLY
#
# This is the main and default configuration file for iscsi-ha.
# Direct modifications to this file are strongly discouraged
# as they may be overwritten during updates or maintenance.
#
# To customize settings or apply changes, use the following file:
# /etc/iscsi-ha/iscsi-ha_local.conf
#
# The local configuration file will override settings in this file
# and ensures changes are preserved across updates.
#############################################

#############################################
# Define the DRBD resource names.
# Specify resource names in a colon-separated format. Each resource name
# corresponds to a DRBD device managed by iscsi-ha. Example: iscsi1:iscsi2
#############################################
DRBD_RESOURCES=iscsi1

#############################################
# Define the virtual "floating" IP address.
# This IP is used to provide high availability for iSCSI targets. Ensure the
# IP address belongs to the same subnet as other system interfaces. Routing
# configurations must accommodate this IP. The associated subnet mask must
# also be specified.
#############################################
DRBD_VIRTUAL_IP=10.10.10.3
DRBD_VIRTUAL_MASK=255.255.255.0

#############################################
# Specify the network interface for binding.
# Set the network interface where the virtual IP will bind. Examples include
# xenbr0, xapi0, or other interfaces depending on the environment configuration.
#############################################
DRBD_INTERFACE=xenbr1

#############################################
# Enable or disable logging functionality.
# Set ENABLE_LOGGING to 1 to enable logging or 0 to disable it. Logs are saved
# in /var/log/messages. Use "tail -f /var/log/messages | grep iscsi-ha" to
# view logs in real-time.
#############################################
ENABLE_LOGGING=1

#############################################
# Set the iSCSI target daemon name.
# This is the service responsible for handling the iSCSI target functionality.
#############################################
ISCSI_TARGET_SERVICE=tgtd

#############################################
# Configure email alert settings.
# MAIL_ON: Enable email notifications (1 = yes, 0 = no).
# MAIL_USE_SHARED_PARAMS: Use ha-lizard mail settings if running on the same
#                         host (1 = yes, 0 = no).
# MAIL_SUBJECT: Subject line for alert emails. Include $HOSTNAME for context.
# MAIL_FROM: Sender email address for alerts.
# MAIL_TO: Recipient email address for alerts.
# MAIL_SCREEN_TIME: Delay in seconds between alert emails (default: 30).
# SMTP_SERVER: IP or hostname of the SMTP server.
# SMTP_PORT: SMTP server port (default: 25).
# SMTP_USER: Username for SMTP authentication (if required).
# SMTP_PASS: Password for SMTP authentication (if required).
#############################################
MAIL_ON=1
MAIL_USE_SHARED_PARAMS=1
MAIL_SUBJECT="HA-Lizard noSAN SYSTEM ALERT - FROM HOST: $HOSTNAME"
MAIL_FROM="root@localhost"
MAIL_TO="root@localhost"
MAIL_SCREEN_TIME=30
SMTP_SERVER=127.0.0.1
SMTP_PORT=25
SMTP_USER=""
SMTP_PASS=""

#############################################
# Configure iscsi-ha monitoring parameters.
# MONITOR_MAX_STARTS: Number of failed starts allowed before taking corrective
#                     action.
# MONITOR_KILLALL: Whether to terminate hung processes if the failure threshold
#                  is reached (1 = yes, 0 = no).
# MONITOR_DELAY: Delay in seconds between monitoring cycles (default: 10).
# MONITOR_SCANRATE: Wait time in seconds before retrying if active processes
#                   block a new monitoring cycle.
#############################################
MONITOR_MAX_STARTS=5
MONITOR_DELAY=10
MONITOR_KILLALL=1
MONITOR_SCANRATE=5

#############################################
# Define manual mode setting.
# MANUAL_MODE: Set this variable to switch iscsi-ha to manual configuration.
# Leave this blank to enable automatic configuration.
#############################################
MANUAL_MODE=""

#############################################
# Define replication IP addresses for the iscsi-ha setup.
# REPLICATION_IP_MASTER: IP address of the master host for replication.
# REPLICATION_IP_SLAVE: IP address of the slave host for replication.
# REPLICATION_IP_ISCSI: Virtual IP address for the iSCSI service in the replication setup.
#############################################
REPLICATION_IP_MASTER="10.10.10.1"
REPLICATION_IP_SLAVE="10.10.10.2"
REPLICATION_IP_ISCSI="10.10.10.3"

# End of configuration file
